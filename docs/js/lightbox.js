$(document).ready(function(){'use strict';$('a[data-lightbox]').lightbox();});(function($){'use strict';$.fn.lightbox=function(){this.each(function(){function lightboxOverlay(){$('.lightbox-overlay, .lightbox-loading, .lightbox img').bind('contextmenu',function(){return false;});$('<div class="lightbox-overlay"></div>').hide().appendTo('body');$('.lightbox-overlay').fadeTo(0,0.75);$('.lightbox-overlay').click(function(){$('#close').click();});$('.lightbox-overlay').hover().css({cursor:'pointer'});}function lightboxLoading(){$('<div class="lightbox-loading"><i class="fa fa-spinner fa-3x fa-spin"></i></div>').hide().appendTo('body');$('.lightbox-loading').css({top:$(window).height()/2-47,left:$(window).width()/2-47});$('.lightbox-loading').show(0);$('.lightbox-overlay, .lightbox-loading').click(function(){$('.lightbox-loading, .lightbox-overlay, .lightbox').fadeTo(0,0,function(){$('.lightbox-loading, .lightbox-overlay, .lightbox').remove();});});$('.lightbox').css({top:$(window).height()/2,left:$(window).width()/2});}function lightboxOpen(){var overlayVisible;if($('.lightbox-overlay').is(':visible'))overlayVisible='true';if(overlayVisible!=='true'||overlayVisible===null){lightboxOverlay();lightboxLoading();}$('.lightbox-overlay, .lightbox-loading, .lightbox').bind('contextmenu',function(){return false;});$('.lightbox img').load(function(){$(this).css({maxWidth:$(window).width()*0.8,maxHeight:$(window).height()*0.8});var imageWidth=$('.lightbox img').width(),imageHeight=$('.lightbox img').height();$('.lightbox').css({top:$(window).height()/2,left:'50%'}).animate({opacity:1,marginLeft:-((imageWidth+20)/2),marginTop:-((imageHeight+90)/2),width:(imageWidth+20),height:(imageHeight+90)},0,function(){$('.lightbox-title, .lightbox-nav, .lightbox img').fadeTo(0,1);});$('#close').click(function(){$('.lightbox-loading, .lightbox-title, .lightbox-nav, .lightbox img').remove();$('.lightbox').animate({left:'50%',top:$(window).height()/2,marginLeft:(imageWidth/2),marginTop:(imageHeight/2),width:-(imageWidth+20),height:-(imageHeight+60)},0,function(){$('.lightbox').remove();});$('.lightbox-overlay').delay(0).fadeTo(0,0,function(){$('.lightbox-overlay').remove();});});$(window).resize(function(){$('#close').click();});});}$(this).click(function(){var dataLightbox=$(this).attr('data-lightbox'),dataLightboxCount=$('[data-lightbox="'+dataLightbox+'"]').size(),index=$('[data-lightbox="'+dataLightbox+'"]').index(this),href=$(this).attr('href'),title=$(this).prop('title');if(title==='undefined'||title==='false')$('<div class="lightbox"><div class="lightbox-nav"><a id="close"><i class="fa fa-times"></i></a></div>'+'<img src='+href+' /><div class="lightbox-title" style="height:20px"></div></div>').appendTo('body');else $('<div class="lightbox"><div class="lightbox-nav"><a id="close"><i class="fa fa-times"></i></a></div>'+'<img src='+href+' /><div class="lightbox-title"><span>'+title+'</span></div></div>').appendTo('body');if((dataLightbox.match('group')||dataLightbox.match('Group'))&&dataLightboxCount>1)$('<a id="prev"><i class="fa fa-arrow-left"></i></a><span id="count">'+parseInt(index+1,10)+' / '+dataLightboxCount+'</span><a id="next"><i class="fa fa-arrow-right"></i></a>').appendTo('.lightbox-nav');$('[data-lightbox="'+dataLightbox+'"]').filter('.selected').removeClass('selected');$(this).addClass('selected');$('#prev').click(function(){$('.lightbox').fadeTo(0,0,function(){$('.lightbox').remove();});setTimeout(function(){var prev=$('[data-lightbox="'+dataLightbox+'"]').eq(index-1);if(!prev.size())prev=$('[data-lightbox="'+dataLightbox+'"]').eq(0);if(prev.size())prev.click();},0);return false;});$('#next').click(function(){$('.lightbox').fadeTo(0,0,function(){$('.lightbox').remove();});setTimeout(function(){var next=$('[data-lightbox="'+dataLightbox+'"]').eq(index+1);if(!next.size())next=$('[data-lightbox="'+dataLightbox+'"]').eq(0);if(next.size())next.click();},0);return false;});lightboxOpen();return false;});});return this;};}(jQuery));